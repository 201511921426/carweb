<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.vip.car.mapper.SortMapper">
  <resultMap id="BaseResultMap" type="com.vip.car.domain.vo.SortVo">
    <id column="so_id" jdbcType="INTEGER" property="soId" />
    <result column="so_name" jdbcType="VARCHAR" property="soName" />
    <collection property="brands" resultMap="com.vip.car.mapper.BrandMapper.BaseResultMap"/>
    <collection property="prices" resultMap="com.vip.car.mapper.PriceMapper.BaseResultMap"/>
    <collection property="aotoTypes" resultMap="com.vip.car.mapper.AotoTypeMapper.BaseResultMap"/>
    <collection property="standards" resultMap="com.vip.car.mapper.StandardMapper.BaseResultMap"/>
  </resultMap>

  <select id="findSort" resultMap="BaseResultMap">
    select s.so_id,s.so_name,b.brand_name,p.price,a.autotypes,s2.types
    from sort s
    left join brand b on s.so_id = b.so_id
    left join price p on s.so_id = p.so_id
    left join aoto_type a on s.so_id = a.so_id
    left join standard s2 on s.so_id = s2.so_id
    where s.is_delete=0
    order by s.so_id asc
  </select>

</mapper>